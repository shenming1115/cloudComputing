# 测试指南

## 📋 测试账号

查看 `test-credentials.md` 文件获取完整的测试账号信息。

### 快速参考
- **测试用户**: testuser / Test123456!
- **管理员**: admin123 / Admin123456!

---

## 🚀 测试步骤

### 1. 启动应用
```powershell
.\start-app.ps1
```
等待应用启动完成（约30-60秒）

### 2. 快速检查（推荐先运行）
```powershell
.\quick-check.ps1
```
这个脚本会快速检查：
- ✓ 管理员登录
- ✓ 用户管理功能
- ✓ 帖子管理功能
- ✓ 评论管理功能
- ✓ 系统统计
- ✓ S3存储

### 3. 完整API测试
```powershell
.\test-api.ps1
```
这个脚本会测试所有功能：
- 用户注册/登录
- 创建/删除帖子
- 点赞功能
- 评论功能
- 分享功能
- AI助手
- 搜索功能
- 管理员功能

### 4. AI助手专项测试
```powershell
.\test-ai-assistant.ps1
```
这个脚本专门测试AI助手：
- 多个测试问题
- 验证回复质量
- 检查响应时间

---

## 🎨 界面改进

### 已完成的改进
1. ✅ **删除彩虹横幅** - 移除了顶部的高对比度演示横幅
2. ✅ **优化配色方案** - 使用更舒适的颜色：
   - 侧边栏：深灰色 (#1e293b) 替代纯黑
   - 背景：浅灰色 (#f1f5f9) 更柔和
   - 文字：深色 (#0f172a) 更易读
   - 表格行悬停：浅蓝色高亮

### 访问管理面板
```
http://localhost:8080/html/admin-dashboard.html
```

---

## 🔍 验证清单

### Admin功能验证
- [ ] 用户管理 - `/api/admin/users`
- [ ] 帖子管理 - `/api/admin/posts`
- [ ] 评论管理 - `/api/admin/comments` ✨ 新增
- [ ] 系统统计 - `/api/admin/stats`
- [ ] S3文件管理 - `/api/admin/s3/files`

### 用户功能验证
- [ ] 注册新用户
- [ ] 用户登录
- [ ] 创建帖子
- [ ] 点赞/取消点赞
- [ ] 评论帖子
- [ ] 删除评论
- [ ] 分享帖子
- [ ] AI助手对话 ⭐ 重点测试
- [ ] 搜索功能

---

## 🤖 AI助手测试重点

AI助手是关键功能，请特别注意：

1. **响应质量**
   - AI是否能正确理解问题
   - 回复是否相关且有用
   - 回复是否完整

2. **响应时间**
   - 正常应在1-3秒内
   - 超过5秒可能有问题

3. **错误处理**
   - API密钥是否有效
   - 网络连接是否稳定
   - 配额是否充足

### 如果AI助手失败
检查以下配置：
```yaml
# application.yml 或环境变量
GEMINI_API_KEY=你的密钥
```

---

## 📊 预期结果

### quick-check.ps1
```
✓ 管理员登录成功
✓ 用户列表: 找到 X 个用户
✓ 帖子列表: 找到 X 个帖子
✓ 评论列表: 找到 X 个评论
✓ 系统统计: [显示详细信息]
✓ S3文件: 找到 X 个文件
```

### test-api.ps1
```
通过: 15+
失败: 0
✓ 所有测试通过！
```

### test-ai-assistant.ps1
```
成功: 5 / 5
✓ AI助手功能正常！
```

---

## 🐛 故障排除

### 应用无法启动
1. 检查端口8080是否被占用
2. 检查数据库连接
3. 查看日志输出

### 测试失败
1. 确认应用已完全启动
2. 检查网络连接
3. 验证测试账号是否存在

### AI助手无响应
1. 检查Gemini API密钥
2. 验证网络可以访问Google API
3. 检查API配额

---

## 📝 注意事项

1. **测试顺序**: 建议按照上述顺序执行测试
2. **数据清理**: 测试会创建数据，可能需要定期清理
3. **并发测试**: 避免同时运行多个测试脚本
4. **生产环境**: 这些是测试账号，不要在生产环境使用

---

## ✅ 完成标志

当所有测试通过时，你应该看到：
- ✅ Admin面板可以访问且功能正常
- ✅ 所有API端点响应正确
- ✅ AI助手能够正常对话
- ✅ 界面颜色舒适易读
- ✅ 没有彩虹横幅干扰

祝测试顺利！🎉
