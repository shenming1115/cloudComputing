<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Social App</title>
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/index.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container" style="display: flex; justify-content: space-between; width: 100%; align-items: center;">
            <a href="index.html" class="nav-brand">SocialApp</a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-item active">Home</a>
                <a href="search.html" class="nav-item">Explore</a>
                <a href="profile.html" class="nav-item" id="navProfileLink" style="display: none;">Profile</a>
            </div>

            <!-- Guest Nav -->
            <div id="navGuest" style="display: none; gap: var(--spacing-md); align-items: center;">
                <a href="login.html" class="btn btn-secondary">Login</a>
                <a href="login.html" class="btn btn-primary">Sign Up</a>
            </div>

            <!-- User Nav -->
            <div id="navUser" style="display: none; gap: var(--spacing-md); align-items: center;">
                <button class="btn btn-primary" onclick="openCreatePostModal()">New Post</button>
                <div class="user-avatar" id="navUserAvatar">U</div>
                <button class="btn btn-secondary" onclick="logout()" style="padding: 4px 12px; font-size: 0.8rem;">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section (Guest Only) -->
    <div id="heroSection" class="hero-section" style="display: none;">
        <h1 class="hero-title">Welcome to SocialApp</h1>
        <p class="hero-subtitle">Join our minimalist community to share your thoughts, connect with others, and discover trending topics.</p>
        <div style="display: flex; gap: var(--spacing-md); justify-content: center;">
            <a href="login.html" class="btn btn-primary">Get Started</a>
            <a href="#postsFeed" class="btn btn-secondary">Browse Posts</a>
        </div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Left Sidebar (Navigation - Optional for future) -->
        <div class="left-sidebar">
            <!-- Placeholder for future navigation menu -->
        </div>

        <!-- Main Feed -->
        <main class="feed-container">
            <!-- Create Post Widget -->
            <div class="card create-post-card" onclick="openCreatePostModal()">
                <div class="user-avatar">U</div>
                <div class="create-post-input">What's on your mind?</div>
            </div>

            <!-- Posts Feed -->
            <div id="postsFeed">
                <!-- Posts will be injected here by JS -->
                <div class="text-center" style="padding: 40px; color: var(--text-secondary);">
                    Loading posts...
                </div>
            </div>
        </main>

        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div class="card sidebar-card">
                <h4 class="sidebar-title">Trending Topics</h4>
                <div style="display: flex; flex-direction: column; gap: var(--spacing-sm);">
                    <a href="#" style="font-size: 0.9rem;">#Minimalism</a>
                    <a href="#" style="font-size: 0.9rem;">#WebDesign</a>
                    <a href="#" style="font-size: 0.9rem;">#CloudComputing</a>
                </div>
            </div>

            <div class="card sidebar-card">
                <h4 class="sidebar-title">Who to follow</h4>
                <div style="display: flex; flex-direction: column; gap: var(--spacing-md);">
                    <!-- Suggestion Item -->
                    <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                        <div class="user-avatar" style="width: 32px; height: 32px; font-size: 0.8rem;">A</div>
                        <div style="flex: 1;">
                            <div style="font-size: 0.9rem; font-weight: 500;">Alice Design</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary);">@alice</div>
                        </div>
                        <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 0.8rem;">Follow</button>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Create Post Modal (Hidden by default) -->
    <div id="createPostModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center;">
        <div class="card" style="width: 100%; max-width: 500px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-md);">
                <h3>Create Post</h3>
                <button onclick="closeCreatePostModal()" style="background: none; font-size: 1.2rem;">&times;</button>
            </div>
            <textarea id="postContent" placeholder="What's on your mind?" style="width: 100%; height: 120px; padding: var(--spacing-md); border: 1px solid var(--border-color); border-radius: var(--radius-md); resize: none; margin-bottom: var(--spacing-md); font-family: inherit;"></textarea>
            <div style="display: flex; justify-content: flex-end;">
                <button class="btn btn-primary" onclick="submitPost()">Post</button>
            </div>
        </div>
    </div>

    <script src="../js/index.js"></script>
</body>
</html>
